<!DOCTYPE html>
<html lang="en-us">

<head>
<meta charset="utf-8">
<title>JS-Markdown-Extra-Editor</title>
<style type="text/css">
#preview {
  padding: 10px;
  color: #444;
  font-family: Georgia, Palatino, Times, serif;
  font-size: 16px;
  line-height: 1.5em;
}
</style>
<link href="footnotes.css" ref="stylesheet" type="text/css">
<script src="http://code.bib.ly/bibly.min.js"></script>
<link href="http://code.bib.ly/bibly.min.css" rel="stylesheet" type="text/css" />
<script src="http://code.jquery.com/jquery-1.8.2.min.js"></script>
<script src="js-markdown-extra.js"></script>
<script src="footnotes.js" type="text/javascript"></script>
</head>

<body>
<textarea id="mdtext" rows="25" cols="120">#Markdown text here.  Bible reference: Gen 1:1</textarea>
<div id="preview"></div>

<script>
$(function() {
    function parse_md() {
        var result = Markdown($('#mdtext').val());
        $('#preview').html(result);
    }
    var initial = $('#mdtext').val();
    var prev = initial;
    $('#mdtext').keyup(function() {
        var mdtext = $('#mdtext').val();
        if(prev != mdtext) {
            parse_md();
            prev = mdtext;
        }
    });
    $('#reset').click(function() {
        $('#mdtext').val(initial);
        prev = initial;
        parse_md();
    });
    parse_md();
});
</script>

  </body>
</html>
